{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../../shared/services/auth.service\";\nimport * as i2 from \"@angular/forms\";\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(authSvc) {\n      this.authSvc = authSvc;\n      this.currentImage = 'https://picsum.photos/id/113/150/150';\n      this.profileForm = new FormGroup({\n        displayName: new FormControl('', Validators.required),\n        email: new FormControl({\n          value: '',\n          disabled: true\n        }, Validators.required),\n        photoURL: new FormControl('', Validators.required)\n      });\n    }\n    ngOnInit() {\n      this.authSvc.userData$.subscribe(user => {\n        this.initValuesForm(user);\n      });\n    }\n    onSaveUser(user) {\n      this.authSvc.preSaveUserProfile(user, this.image);\n    }\n    initValuesForm(user) {\n      if (user.photoURL) {\n        this.currentImage = user.photoURL;\n      }\n      this.profileForm.patchValue({\n        displayName: user.displayName,\n        email: user.email\n      });\n    }\n    handleImage(image) {\n      this.image = image;\n    }\n    static #_ = this.ɵfac = function ProfileComponent_Factory(t) {\n      return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProfileComponent,\n      selectors: [[\"app-profile\"]],\n      decls: 20,\n      vars: 2,\n      consts: [[3, \"formGroup\", \"ngSubmit\"], [1, \"profile-card\"], [1, \"label\", \"bottom\"], [3, \"src\", \"click\"], [\"hidden\", \"\", \"type\", \"file\", \"formControlName\", \"photoURL\", 3, \"change\"], [\"inputImageProfile\", \"\"], [\"matInput\", \"\", \"placeholder\", \"Name\", \"formControlName\", \"displayName\"], [\"matInput\", \"\", \"placeholder\", \"Email\", \"formControlName\", \"email\"], [1, \"mat-dialog-actions\"], [\"type\", \"submit\", \"value\", \"Save\", 1, \"mat-flat-button\"]],\n      template: function ProfileComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function ProfileComponent_Template_form_ngSubmit_0_listener() {\n            return ctx.onSaveUser(ctx.profileForm.value);\n          });\n          i0.ɵɵelementStart(1, \"mat-card\", 1)(2, \"mat-card-header\")(3, \"div\", 2)(4, \"p\");\n          i0.ɵɵtext(5, \"Change\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"img\", 3);\n          i0.ɵɵlistener(\"click\", function ProfileComponent_Template_img_click_6_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const _r0 = i0.ɵɵreference(8);\n            return i0.ɵɵresetView(_r0.click());\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"input\", 4, 5);\n          i0.ɵɵlistener(\"change\", function ProfileComponent_Template_input_change_7_listener($event) {\n            return ctx.handleImage($event == null ? null : $event.target == null ? null : $event.target.files[0]);\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(9, \"mat-card-content\")(10, \"mat-form-field\")(11, \"mat-label\");\n          i0.ɵɵtext(12, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"input\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"mat-form-field\")(15, \"mat-label\");\n          i0.ɵɵtext(16, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(17, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 8);\n          i0.ɵɵelement(19, \"input\", 9);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"formGroup\", ctx.profileForm);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"src\", ctx.currentImage, i0.ɵɵsanitizeUrl);\n        }\n      },\n      dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n      styles: [\".profile-card[_ngcontent-%COMP%]{width:100%;height:100vh}.profile-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;overflow:hidden;position:relative;margin:20px;text-align:center;border-radius:50%}.profile-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;width:100%;background:#451e89;color:#f5f5f5;text-transform:uppercase;transition:all .5s ease}.profile-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:150px;height:150px;border-radius:50%;border:2px solid whitesmoke}.profile-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{border:2px solid #451e89;cursor:pointer}.profile-card[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{bottom:-50%}.profile-card[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{bottom:0%}.profile-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{justify-content:center}.profile-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%]   input.mat-flat-button[_ngcontent-%COMP%]{width:60%;display:block;margin:0 auto}.profile-card[_ngcontent-%COMP%]   input.mat-flat-button[_ngcontent-%COMP%]{background:#7b1fa2;padding:.4rem;color:#fff}.profile-card[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{width:100%;min-height:150px;margin-top:3rem}\"]\n    });\n  }\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}